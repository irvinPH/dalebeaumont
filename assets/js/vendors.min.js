!function(e){"use strict";function t(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function r(e,t){var r=n(e,t)?o:i;r(e,t)}var n,i,o;"classList"in document.documentElement?(n=function(e,t){return e.classList.contains(t)},i=function(e,t){e.classList.add(t)},o=function(e,t){e.classList.remove(t)}):(n=function(e,r){return t(r).test(e.className)},i=function(e,t){n(e,t)||(e.className=e.className+" "+t)},o=function(e,r){e.className=e.className.replace(t(r)," ")});var s={hasClass:n,addClass:i,removeClass:o,toggleClass:r,has:n,add:i,remove:o,toggle:r};"function"==typeof define&&define.amd?define(s):e.classie=s}(window),function(e){"use strict";function t(){var t=!1;return function(e){(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||e.opera),t}function r(e,t){this.el=e,this.inputEl=e.querySelector("form > input.sb-search-input"),this._initEvents()}!e.addEventListener&&e.Element&&function(){function e(e,t){Window.prototype[e]=HTMLDocument.prototype[e]=Element.prototype[e]=t}var t=[];e("addEventListener",function(e,r){var n=this;t.unshift({__listener:function(e){e.currentTarget=n,e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop,e.preventDefault=function(){e.returnValue=!1},e.relatedTarget=e.fromElement||null,e.stopPropagation=function(){e.cancelBubble=!0},e.relatedTarget=e.fromElement||null,e.target=e.srcElement||n,e.timeStamp=+new Date,r.call(n,e)},listener:r,target:n,type:e}),this.attachEvent("on"+e,t[0].__listener)}),e("removeEventListener",function(e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].target==this&&t[n].type==e&&t[n].listener==r)return this.detachEvent("on"+e,t.splice(n,1)[0].__listener)}),e("dispatchEvent",function(e){try{return this.fireEvent("on"+e.type,e)}catch(r){for(var n=0,i=t.length;n<i;++n)t[n].target==this&&t[n].type==e.type&&t[n].call(this,e)}})}(),!String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),r.prototype={_initEvents:function(){var e=this,t=function(t){t.stopPropagation(),e.inputEl.value=e.inputEl.value.trim(),classie.has(e.el,"sb-search-open")?classie.has(e.el,"sb-search-open")&&/^\s*$/.test(e.inputEl.value)&&(t.preventDefault(),e.close()):(t.preventDefault(),e.open())};this.el.addEventListener("click",t),this.el.addEventListener("touchstart",t),this.inputEl.addEventListener("click",function(e){e.stopPropagation()}),this.inputEl.addEventListener("touchstart",function(e){e.stopPropagation()})},open:function(){var e=this;classie.add(this.el,"sb-search-open"),t()||this.inputEl.focus();var r=function(t){e.close(),this.removeEventListener("click",r),this.removeEventListener("touchstart",r)};document.addEventListener("click",r),document.addEventListener("touchstart",r)},close:function(){this.inputEl.blur(),classie.remove(this.el,"sb-search-open")}},e.UISearch=r}(window),!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.ScrollMagic=t()}(this,function(){"use strict";var e=function(){};e.version="2.0.5",window.addEventListener("mousewheel",function(){});var t="data-scrollmagic-pin-spacer";e.Controller=function(n){var o,s,a="ScrollMagic.Controller",l="FORWARD",c="REVERSE",u="PAUSED",d=r.defaults,f=this,p=i.extend({},d,n),g=[],h=!1,m=0,v=u,w=!0,b=0,y=!0,E=function(){for(var e in p)d.hasOwnProperty(e)||delete p[e];if(p.container=i.get.elements(p.container)[0],!p.container)throw a+" init failed.";w=p.container===window||p.container===document.body||!document.body.contains(p.container),w&&(p.container=window),b=C(),p.container.addEventListener("resize",k),p.container.addEventListener("scroll",k),p.refreshInterval=parseInt(p.refreshInterval)||d.refreshInterval,x()},x=function(){p.refreshInterval>0&&(s=window.setTimeout(T,p.refreshInterval))},S=function(){return p.vertical?i.get.scrollTop(p.container):i.get.scrollLeft(p.container)},C=function(){return p.vertical?i.get.height(p.container):i.get.width(p.container)},L=this._setScrollPos=function(e){p.vertical?w?window.scrollTo(i.get.scrollLeft(),e):p.container.scrollTop=e:w?window.scrollTo(e,i.get.scrollTop()):p.container.scrollLeft=e},_=function(){if(y&&h){var e=i.type.Array(h)?h:g.slice(0);h=!1;var t=m;m=f.scrollPos();var r=m-t;0!==r&&(v=r>0?l:c),v===c&&e.reverse(),e.forEach(function(e){e.update(!0)})}},z=function(){o=i.rAF(_)},k=function(e){"resize"==e.type&&(b=C(),v=u),h!==!0&&(h=!0,z())},T=function(){if(!w&&b!=C()){var e;try{e=new Event("resize",{bubbles:!1,cancelable:!1})}catch(t){e=document.createEvent("Event"),e.initEvent("resize",!1,!1)}p.container.dispatchEvent(e)}g.forEach(function(e){e.refresh()}),x()};this._options=p;var G=function(e){if(e.length<=1)return e;var t=e.slice(0);return t.sort(function(e,t){return e.scrollOffset()>t.scrollOffset()?1:-1}),t};return this.addScene=function(t){if(i.type.Array(t))t.forEach(function(e){f.addScene(e)});else if(t instanceof e.Scene)if(t.controller()!==f)t.addTo(f);else if(g.indexOf(t)<0){g.push(t),g=G(g),t.on("shift.controller_sort",function(){g=G(g)});for(var r in p.globalSceneOptions)t[r]&&t[r].call(t,p.globalSceneOptions[r])}return f},this.removeScene=function(e){if(i.type.Array(e))e.forEach(function(e){f.removeScene(e)});else{var t=g.indexOf(e);t>-1&&(e.off("shift.controller_sort"),g.splice(t,1),e.remove())}return f},this.updateScene=function(t,r){return i.type.Array(t)?t.forEach(function(e){f.updateScene(e,r)}):r?t.update(!0):h!==!0&&t instanceof e.Scene&&(h=h||[],-1==h.indexOf(t)&&h.push(t),h=G(h),z()),f},this.update=function(e){return k({type:"resize"}),e&&_(),f},this.scrollTo=function(r,n){if(i.type.Number(r))L.call(p.container,r,n);else if(r instanceof e.Scene)r.controller()===f&&f.scrollTo(r.scrollOffset(),n);else if(i.type.Function(r))L=r;else{var o=i.get.elements(r)[0];if(o){for(;o.parentNode.hasAttribute(t);)o=o.parentNode;var s=p.vertical?"top":"left",a=i.get.offset(p.container),l=i.get.offset(o);w||(a[s]-=f.scrollPos()),f.scrollTo(l[s]-a[s],n)}}return f},this.scrollPos=function(e){return arguments.length?(i.type.Function(e)&&(S=e),f):S.call(f)},this.info=function(e){var t={size:b,vertical:p.vertical,scrollPos:m,scrollDirection:v,container:p.container,isDocument:w};return arguments.length?void 0!==t[e]?t[e]:void 0:t},this.loglevel=function(){return f},this.enabled=function(e){return arguments.length?(y!=e&&(y=!!e,f.updateScene(g,!0)),f):y},this.destroy=function(e){window.clearTimeout(s);for(var t=g.length;t--;)g[t].destroy(e);return p.container.removeEventListener("resize",k),p.container.removeEventListener("scroll",k),i.cAF(o),null},E(),f};var r={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};e.Controller.addOption=function(e,t){r.defaults[e]=t},e.Controller.extend=function(t){var r=this;e.Controller=function(){return r.apply(this,arguments),this.$super=i.extend({},this),t.apply(this,arguments)||this},i.extend(e.Controller,r),e.Controller.prototype=r.prototype,e.Controller.prototype.constructor=e.Controller},e.Scene=function(r){var o,s,a="BEFORE",l="DURING",c="AFTER",u=n.defaults,d=this,f=i.extend({},u,r),p=a,g=0,h={start:0,end:0},m=0,v=!0,w=function(){for(var e in f)u.hasOwnProperty(e)||delete f[e];for(var t in u)z(t);L()},b={};this.on=function(e,t){return i.type.Function(t)&&(e=e.trim().split(" "),e.forEach(function(e){var r=e.split("."),n=r[0],i=r[1];"*"!=n&&(b[n]||(b[n]=[]),b[n].push({namespace:i||"",callback:t}))})),d},this.off=function(e,t){return e?(e=e.trim().split(" "),e.forEach(function(e){var r=e.split("."),n=r[0],i=r[1]||"",o="*"===n?Object.keys(b):[n];o.forEach(function(e){for(var r=b[e]||[],n=r.length;n--;){var o=r[n];!o||i!==o.namespace&&"*"!==i||t&&t!=o.callback||r.splice(n,1)}r.length||delete b[e]})}),d):d},this.trigger=function(t,r){if(t){var n=t.trim().split("."),i=n[0],o=n[1],s=b[i];s&&s.forEach(function(t){o&&o!==t.namespace||t.callback.call(d,new e.Event(i,t.namespace,d,r))})}return d},d.on("change.internal",function(e){"loglevel"!==e.what&&"tweenChanges"!==e.what&&("triggerElement"===e.what?x():"reverse"===e.what&&d.update())}).on("shift.internal",function(){y(),d.update()}),this.addTo=function(t){return t instanceof e.Controller&&s!=t&&(s&&s.removeScene(d),s=t,L(),E(!0),x(!0),y(),s.info("container").addEventListener("resize",S),t.addScene(d),d.trigger("add",{controller:s}),d.update()),d},this.enabled=function(e){return arguments.length?(v!=e&&(v=!!e,d.update(!0)),d):v},this.remove=function(){if(s){s.info("container").removeEventListener("resize",S);var e=s;s=void 0,e.removeScene(d),d.trigger("remove")}return d},this.destroy=function(e){return d.trigger("destroy",{reset:e}),d.remove(),d.off("*.*"),null},this.update=function(e){if(s)if(e)if(s.enabled()&&v){var t,r=s.info("scrollPos");t=f.duration>0?(r-h.start)/(h.end-h.start):r>=h.start?1:0,d.trigger("update",{startPos:h.start,endPos:h.end,scrollPos:r}),d.progress(t)}else k&&p===l&&G(!0);else s.updateScene(d,!1);return d},this.refresh=function(){return E(),x(),d},this.progress=function(e){if(arguments.length){var t=!1,r=p,n=s?s.info("scrollDirection"):"PAUSED",i=f.reverse||e>=g;if(0===f.duration?(t=g!=e,g=1>e&&i?0:1,p=0===g?a:l):0>e&&p!==a&&i?(g=0,p=a,t=!0):e>=0&&1>e&&i?(g=e,p=l,t=!0):e>=1&&p!==c?(g=1,p=c,t=!0):p!==l||i||G(),t){var o={progress:g,state:p,scrollDirection:n},u=p!=r,h=function(e){d.trigger(e,o)};u&&r!==l&&(h("enter"),h(r===a?"start":"end")),h("progress"),u&&p!==l&&(h(p===a?"start":"end"),h("leave"))}return d}return g};var y=function(){h={start:m+f.offset},s&&f.triggerElement&&(h.start-=s.info("size")*f.triggerHook),h.end=h.start+f.duration},E=function(e){if(o){var t="duration";_(t,o.call(d))&&!e&&(d.trigger("change",{what:t,newval:f[t]}),d.trigger("shift",{reason:t}))}},x=function(e){var r=0,n=f.triggerElement;if(s&&n){for(var o=s.info(),a=i.get.offset(o.container),l=o.vertical?"top":"left";n.parentNode.hasAttribute(t);)n=n.parentNode;var c=i.get.offset(n);o.isDocument||(a[l]-=s.scrollPos()),r=c[l]-a[l]}var u=r!=m;m=r,u&&!e&&d.trigger("shift",{reason:"triggerElementPosition"})},S=function(){f.triggerHook>0&&d.trigger("shift",{reason:"containerResize"})},C=i.extend(n.validate,{duration:function(e){if(i.type.String(e)&&e.match(/^(\.|\d)*\d+%$/)){var t=parseFloat(e)/100;e=function(){return s?s.info("size")*t:0}}if(i.type.Function(e)){o=e;try{e=parseFloat(o())}catch(r){e=-1}}if(e=parseFloat(e),!i.type.Number(e)||0>e)throw o?(o=void 0,0):0;return e}}),L=function(e){e=arguments.length?[e]:Object.keys(C),e.forEach(function(e){var t;if(C[e])try{t=C[e](f[e])}catch(r){t=u[e]}finally{f[e]=t}})},_=function(e,t){var r=!1,n=f[e];return f[e]!=t&&(f[e]=t,L(e),r=n!=f[e]),r},z=function(e){d[e]||(d[e]=function(t){return arguments.length?("duration"===e&&(o=void 0),_(e,t)&&(d.trigger("change",{what:e,newval:f[e]}),n.shifts.indexOf(e)>-1&&d.trigger("shift",{reason:e})),d):f[e]})};this.controller=function(){return s},this.state=function(){return p},this.scrollOffset=function(){return h.start},this.triggerPosition=function(){var e=f.offset;return s&&(e+=f.triggerElement?m:s.info("size")*d.triggerHook()),e};var k,T;d.on("shift.internal",function(e){var t="duration"===e.reason;(p===c&&t||p===l&&0===f.duration)&&G(),t&&F()}).on("progress.internal",function(){G()}).on("add.internal",function(){F()}).on("destroy.internal",function(e){d.removePin(e.reset)});var G=function(e){if(k&&s){var t=s.info(),r=T.spacer.firstChild;if(e||p!==l){var n={position:T.inFlow?"relative":"absolute",top:0,left:0},o=i.css(r,"position")!=n.position;T.pushFollowers?f.duration>0&&(p===c&&0===parseFloat(i.css(T.spacer,"padding-top"))?o=!0:p===a&&0===parseFloat(i.css(T.spacer,"padding-bottom"))&&(o=!0)):n[t.vertical?"top":"left"]=f.duration*g,i.css(r,n),o&&F()}else{"fixed"!=i.css(r,"position")&&(i.css(r,{position:"fixed"}),F());var u=i.get.offset(T.spacer,!0),d=f.reverse||0===f.duration?t.scrollPos-h.start:Math.round(g*f.duration*10)/10;u[t.vertical?"top":"left"]+=d,i.css(T.spacer.firstChild,{top:u.top,left:u.left})}}},F=function(){if(k&&s&&T.inFlow){var e=p===l,t=s.info("vertical"),r=T.spacer.firstChild,n=i.isMarginCollapseType(i.css(T.spacer,"display")),o={};T.relSize.width||T.relSize.autoFullWidth?e?i.css(k,{width:i.get.width(T.spacer)}):i.css(k,{width:"100%"}):(o["min-width"]=i.get.width(t?k:r,!0,!0),o.width=e?o["min-width"]:"auto"),T.relSize.height?e?i.css(k,{height:i.get.height(T.spacer)-(T.pushFollowers?f.duration:0)}):i.css(k,{height:"100%"}):(o["min-height"]=i.get.height(t?r:k,!0,!n),o.height=e?o["min-height"]:"auto"),T.pushFollowers&&(o["padding"+(t?"Top":"Left")]=f.duration*g,o["padding"+(t?"Bottom":"Right")]=f.duration*(1-g)),i.css(T.spacer,o)}},P=function(){s&&k&&p===l&&!s.info("isDocument")&&G()},A=function(){s&&k&&p===l&&((T.relSize.width||T.relSize.autoFullWidth)&&i.get.width(window)!=i.get.width(T.spacer.parentNode)||T.relSize.height&&i.get.height(window)!=i.get.height(T.spacer.parentNode))&&F()},N=function(e){s&&k&&p===l&&!s.info("isDocument")&&(e.preventDefault(),s._setScrollPos(s.info("scrollPos")-((e.wheelDelta||e[s.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-e.detail)))};this.setPin=function(e,r){var n={pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"};if(r=i.extend({},n,r),e=i.get.elements(e)[0],!e)return d;if("fixed"===i.css(e,"position"))return d;if(k){if(k===e)return d;d.removePin()}k=e;var o=k.parentNode.style.display,s=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];k.parentNode.style.display="none";var a="absolute"!=i.css(k,"position"),l=i.css(k,s.concat(["display"])),c=i.css(k,["width","height"]);k.parentNode.style.display=o,!a&&r.pushFollowers&&(r.pushFollowers=!1);var u=k.parentNode.insertBefore(document.createElement("div"),k),f=i.extend(l,{position:a?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(a||i.extend(f,i.css(k,["width","height"])),i.css(u,f),u.setAttribute(t,""),i.addClass(u,r.spacerClass),T={spacer:u,relSize:{width:"%"===c.width.slice(-1),height:"%"===c.height.slice(-1),autoFullWidth:"auto"===c.width&&a&&i.isMarginCollapseType(l.display)},pushFollowers:r.pushFollowers,inFlow:a},!k.___origStyle){k.___origStyle={};var p=k.style,g=s.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]);g.forEach(function(e){k.___origStyle[e]=p[e]||""})}return T.relSize.width&&i.css(u,{width:c.width}),T.relSize.height&&i.css(u,{height:c.height}),u.appendChild(k),i.css(k,{position:a?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(T.relSize.width||T.relSize.autoFullWidth)&&i.css(k,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",P),window.addEventListener("resize",P),window.addEventListener("resize",A),k.addEventListener("mousewheel",N),k.addEventListener("DOMMouseScroll",N),G(),d},this.removePin=function(e){if(k){if(p===l&&G(!0),e||!s){var r=T.spacer.firstChild;if(r.hasAttribute(t)){var n=T.spacer.style,o=["margin","marginLeft","marginRight","marginTop","marginBottom"];margins={},o.forEach(function(e){margins[e]=n[e]||""}),i.css(r,margins)}T.spacer.parentNode.insertBefore(r,T.spacer),T.spacer.parentNode.removeChild(T.spacer),k.parentNode.hasAttribute(t)||(i.css(k,k.___origStyle),delete k.___origStyle)}window.removeEventListener("scroll",P),window.removeEventListener("resize",P),window.removeEventListener("resize",A),k.removeEventListener("mousewheel",N),k.removeEventListener("DOMMouseScroll",N),k=void 0}return d};var O,D=[];return d.on("destroy.internal",function(e){d.removeClassToggle(e.reset)}),this.setClassToggle=function(e,t){var r=i.get.elements(e);return 0!==r.length&&i.type.String(t)?(D.length>0&&d.removeClassToggle(),O=t,D=r,d.on("enter.internal_class leave.internal_class",function(e){var t="enter"===e.type?i.addClass:i.removeClass;D.forEach(function(e){t(e,O)})}),d):d},this.removeClassToggle=function(e){return e&&D.forEach(function(e){i.removeClass(e,O)}),d.off("start.internal_class end.internal_class"),O=void 0,D=[],d},w(),d};var n={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(e){if(e=parseFloat(e),!i.type.Number(e))throw 0;return e},triggerElement:function(e){if(e=e||void 0){var t=i.get.elements(e)[0];if(!t)throw 0;e=t}return e},triggerHook:function(e){var t={onCenter:.5,onEnter:1,onLeave:0};if(i.type.Number(e))e=Math.max(0,Math.min(parseFloat(e),1));else{if(!(e in t))throw 0;e=t[e]}return e},reverse:function(e){return!!e}},shifts:["duration","offset","triggerHook"]};e.Scene.addOption=function(e,t,r,i){e in n.defaults||(n.defaults[e]=t,n.validate[e]=r,i&&n.shifts.push(e))},e.Scene.extend=function(t){var r=this;e.Scene=function(){return r.apply(this,arguments),this.$super=i.extend({},this),t.apply(this,arguments)||this},i.extend(e.Scene,r),e.Scene.prototype=r.prototype,e.Scene.prototype.constructor=e.Scene},e.Event=function(e,t,r,n){n=n||{};for(var i in n)this[i]=n[i];return this.type=e,this.target=this.currentTarget=r,this.namespace=t||"",this.timeStamp=this.timestamp=Date.now(),this};var i=e._util=function(e){var t,r={},n=function(e){return parseFloat(e)||0},i=function(t){return t.currentStyle?t.currentStyle:e.getComputedStyle(t)},o=function(t,r,o,s){if(r=r===document?e:r,r===e)s=!1;else if(!d.DomElement(r))return 0;t=t.charAt(0).toUpperCase()+t.substr(1).toLowerCase();var a=(o?r["offset"+t]||r["outer"+t]:r["client"+t]||r["inner"+t])||0;if(o&&s){var l=i(r);a+="Height"===t?n(l.marginTop)+n(l.marginBottom):n(l.marginLeft)+n(l.marginRight)}return a},s=function(e){return e.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})};r.extend=function(e){for(e=e||{},t=1;t<arguments.length;t++)if(arguments[t])for(var r in arguments[t])arguments[t].hasOwnProperty(r)&&(e[r]=arguments[t][r]);return e},r.isMarginCollapseType=function(e){return["block","flex","list-item","table","-webkit-box"].indexOf(e)>-1};var a=0,l=["ms","moz","webkit","o"],c=e.requestAnimationFrame,u=e.cancelAnimationFrame;for(t=0;!c&&t<l.length;++t)c=e[l[t]+"RequestAnimationFrame"],u=e[l[t]+"CancelAnimationFrame"]||e[l[t]+"CancelRequestAnimationFrame"];c||(c=function(t){var r=(new Date).getTime(),n=Math.max(0,16-(r-a)),i=e.setTimeout(function(){t(r+n)},n);return a=r+n,i}),u||(u=function(t){e.clearTimeout(t)}),r.rAF=c.bind(e),r.cAF=u.bind(e);var d=r.type=function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};d.String=function(e){return"string"===d(e)},d.Function=function(e){return"function"===d(e)},d.Array=function(e){return Array.isArray(e)},d.Number=function(e){return!d.Array(e)&&e-parseFloat(e)+1>=0},d.DomElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};var f=r.get={};return f.elements=function(t){var r=[];if(d.String(t))try{t=document.querySelectorAll(t)}catch(n){return r}if("nodelist"===d(t)||d.Array(t))for(var i=0,o=r.length=t.length;o>i;i++){var s=t[i];r[i]=d.DomElement(s)?s:f.elements(s)}else(d.DomElement(t)||t===document||t===e)&&(r=[t]);return r},f.scrollTop=function(t){return t&&"number"==typeof t.scrollTop?t.scrollTop:e.pageYOffset||0},f.scrollLeft=function(t){return t&&"number"==typeof t.scrollLeft?t.scrollLeft:e.pageXOffset||0},f.width=function(e,t,r){return o("width",e,t,r)},f.height=function(e,t,r){return o("height",e,t,r)},f.offset=function(e,t){var r={top:0,left:0};if(e&&e.getBoundingClientRect){var n=e.getBoundingClientRect();r.top=n.top,r.left=n.left,t||(r.top+=f.scrollTop(),r.left+=f.scrollLeft())}return r},r.addClass=function(e,t){t&&(e.classList?e.classList.add(t):e.className+=" "+t)},r.removeClass=function(e,t){t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},r.css=function(e,t){if(d.String(t))return i(e)[s(t)];if(d.Array(t)){var r={},n=i(e);return t.forEach(function(e){r[e]=n[s(e)]}),r}for(var o in t){var a=t[o];a==parseFloat(a)&&(a+="px"),e.style[s(o)]=a}},r}(window||{});return e}),function(e,t){"function"==typeof define&&define.amd?define(["ScrollMagic"],t):t("object"==typeof exports?require("scrollmagic"):e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic)}(this,function(e){"use strict";var t="debug.addIndicators",r=window.console||{},n=Function.prototype.bind.call(r.error||r.log||function(){},r);e||n("("+t+") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs.");var i="0.85em",o="9999",s=15,a=e._util,l=0;e.Scene.extend(function(){var e,t=this;t.addIndicators=function(r){if(!e){var n={name:"",indent:0,parent:void 0,colorStart:"green",colorEnd:"red",colorTrigger:"blue"};r=a.extend({},n,r),l++,e=new c(t,r),t.on("add.plugin_addIndicators",e.add),t.on("remove.plugin_addIndicators",e.remove),t.on("destroy.plugin_addIndicators",t.removeIndicators),t.controller()&&e.add()}return t},t.removeIndicators=function(){return e&&(e.remove(),this.off("*.plugin_addIndicators"),e=void 0),t}}),e.Controller.addOption("addIndicators",!1),e.Controller.extend(function(){var r=this,n=r.info(),i=n.container,o=n.isDocument,l=n.vertical,c={groups:[]},u=function(){r._log&&(Array.prototype.splice.call(arguments,1,0,"("+t+")","->"),r._log.apply(this,arguments))};r._indicators&&u(2,"WARNING: Scene already has a property '_indicators', which will be overwritten by plugin."),this._indicators=c;var d=function(){c.updateBoundsPositions()},f=function(){c.updateTriggerGroupPositions()};return i.addEventListener("resize",f),o||(window.addEventListener("resize",f),window.addEventListener("scroll",f)),i.addEventListener("resize",d),i.addEventListener("scroll",d),this._indicators.updateBoundsPositions=function(e){for(var t,r,n,o=e?[a.extend({},e.triggerGroup,{members:[e]})]:c.groups,u=o.length,d={},f=l?"left":"top",p=l?"width":"height",g=l?a.get.scrollLeft(i)+a.get.width(i)-s:a.get.scrollTop(i)+a.get.height(i)-s;u--;)for(n=o[u],t=n.members.length,r=a.get[p](n.element.firstChild);t--;)d[f]=g-r,a.css(n.members[t].bounds,d)},this._indicators.updateTriggerGroupPositions=function(e){for(var t,n,u,d,f,p=e?[e]:c.groups,g=p.length,h=o?document.body:i,m=o?{top:0,left:0}:a.get.offset(h,!0),v=l?a.get.width(i)-s:a.get.height(i)-s,w=l?"width":"height",b=l?"Y":"X";g--;)t=p[g],n=t.element,u=t.triggerHook*r.info("size"),d=a.get[w](n.firstChild.firstChild),f=u>d?"translate"+b+"(-100%)":"",a.css(n,{top:m.top+(l?u:v-t.members[0].options.indent),left:m.left+(l?v-t.members[0].options.indent:u)}),a.css(n.firstChild.firstChild,{"-ms-transform":f,"-webkit-transform":f,transform:f})},this._indicators.updateTriggerGroupLabel=function(e){var t="trigger"+(e.members.length>1?"":" "+e.members[0].options.name),r=e.element.firstChild.firstChild,n=r.textContent!==t;n&&(r.textContent=t,l&&c.updateBoundsPositions())},this.addScene=function(t){this._options.addIndicators&&t instanceof e.Scene&&t.controller()===r&&t.addIndicators(),this.$super.addScene.apply(this,arguments)},this.destroy=function(){i.removeEventListener("resize",f),o||(window.removeEventListener("resize",f),window.removeEventListener("scroll",f)),i.removeEventListener("resize",d),i.removeEventListener("scroll",d),this.$super.destroy.apply(this,arguments)},r});var c=function(e,r){var n,i,o=this,s=u.bounds(),c=u.start(r.colorStart),d=u.end(r.colorEnd),f=r.parent&&a.get.elements(r.parent)[0],p=function(){e._log&&(Array.prototype.splice.call(arguments,1,0,"("+t+")","->"),e._log.apply(this,arguments))};r.name=r.name||l,c.firstChild.textContent+=" "+r.name,d.textContent+=" "+r.name,s.appendChild(c),s.appendChild(d),o.options=r,o.bounds=s,o.triggerGroup=void 0,this.add=function(){i=e.controller(),n=i.info("vertical");var t=i.info("isDocument");f||(f=t?document.body:i.info("container")),t||"static"!==a.css(f,"position")||a.css(f,{position:"relative"}),e.on("change.plugin_addIndicators",h),e.on("shift.plugin_addIndicators",g),E(),w(),setTimeout(function(){i._indicators.updateBoundsPositions(o)},0),p(3,"added indicators")},this.remove=function(){if(o.triggerGroup){if(e.off("change.plugin_addIndicators",h),e.off("shift.plugin_addIndicators",g),o.triggerGroup.members.length>1){var t=o.triggerGroup;t.members.splice(t.members.indexOf(o),1),i._indicators.updateTriggerGroupLabel(t),i._indicators.updateTriggerGroupPositions(t),o.triggerGroup=void 0}else y();v(),p(3,"removed indicators")}};var g=function(){w()},h=function(e){"triggerHook"===e.what&&E()},m=function(){var e=i.info("vertical");a.css(c.firstChild,{"border-bottom-width":e?1:0,"border-right-width":e?0:1,bottom:e?-1:r.indent,right:e?r.indent:-1,padding:e?"0 8px":"2px 4px"}),a.css(d,{"border-top-width":e?1:0,"border-left-width":e?0:1,top:e?"100%":"",right:e?r.indent:"",bottom:e?"":r.indent,left:e?"":"100%",padding:e?"0 8px":"2px 4px"}),f.appendChild(s)},v=function(){s.parentNode.removeChild(s)},w=function(){s.parentNode!==f&&m();var t={};t[n?"top":"left"]=e.triggerPosition(),t[n?"height":"width"]=e.duration(),a.css(s,t),a.css(d,{display:e.duration()>0?"":"none"})},b=function(){var t=u.trigger(r.colorTrigger),s={};s[n?"right":"bottom"]=0,s[n?"border-top-width":"border-left-width"]=1,a.css(t.firstChild,s),a.css(t.firstChild.firstChild,{padding:n?"0 8px 3px 8px":"3px 4px"}),document.body.appendChild(t);var l={triggerHook:e.triggerHook(),element:t,members:[o]};i._indicators.groups.push(l),o.triggerGroup=l,i._indicators.updateTriggerGroupLabel(l),i._indicators.updateTriggerGroupPositions(l)},y=function(){i._indicators.groups.splice(i._indicators.groups.indexOf(o.triggerGroup),1),o.triggerGroup.element.parentNode.removeChild(o.triggerGroup.element),o.triggerGroup=void 0},E=function(){var t=e.triggerHook(),r=1e-4;if(!(o.triggerGroup&&Math.abs(o.triggerGroup.triggerHook-t)<r)){for(var n,s=i._indicators.groups,a=s.length;a--;)if(n=s[a],Math.abs(n.triggerHook-t)<r)return o.triggerGroup&&(1===o.triggerGroup.members.length?y():(o.triggerGroup.members.splice(o.triggerGroup.members.indexOf(o),1),i._indicators.updateTriggerGroupLabel(o.triggerGroup),i._indicators.updateTriggerGroupPositions(o.triggerGroup))),n.members.push(o),o.triggerGroup=n,void i._indicators.updateTriggerGroupLabel(n);if(o.triggerGroup){if(1===o.triggerGroup.members.length)return o.triggerGroup.triggerHook=t,void i._indicators.updateTriggerGroupPositions(o.triggerGroup);o.triggerGroup.members.splice(o.triggerGroup.members.indexOf(o),1),i._indicators.updateTriggerGroupLabel(o.triggerGroup),i._indicators.updateTriggerGroupPositions(o.triggerGroup),o.triggerGroup=void 0}b()}}},u={start:function(e){var t=document.createElement("div");t.textContent="start",a.css(t,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e});var r=document.createElement("div");return a.css(r,{position:"absolute",overflow:"visible",width:0,height:0}),r.appendChild(t),r},end:function(e){var t=document.createElement("div");return t.textContent="end",a.css(t,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e}),t},bounds:function(){var e=document.createElement("div");return a.css(e,{position:"absolute",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":i}),e.style.zIndex=o,e},trigger:function(e){var t=document.createElement("div");t.textContent="trigger",a.css(t,{position:"relative"});var r=document.createElement("div");a.css(r,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e}),r.appendChild(t);var n=document.createElement("div");return a.css(n,{position:"fixed",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":i}),n.style.zIndex=o,n.appendChild(r),n}}});